<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Robo Clicker</title>
<meta name="description" content="Robo Clicker â€“ casual cartoony idle clicker game" />

<script src="https://sdk.crazygames.com/crazygames-sdk-v3.js"></script>

<style>
:root {
  --bg1:#0f1419;
  --bg2:#1a1f2e;
  --bg3:#242d3d;
  --panel:#1e2635;
  --accent:#ffd54f;
  --accent2:#ff9f1c;
  --accent3:#64b5f6;
  --outline:#0a0e14;
  --success:#4caf50;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Segoe UI', system-ui, sans-serif;
  background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 50%, #0d101a 100%);
  color: #fff;
  overflow: hidden;
  height: 100vh;
  font-weight: 500;
}

/* ANIMATIONS */
@keyframes float { 0%, 100% { transform: translateY(-8px); } 50% { transform: translateY(0); } }
@keyframes glow { 0%, 100% { filter: drop-shadow(0 0 4px rgba(255,213,79,0.3)); } 50% { filter: drop-shadow(0 0 12px rgba(255,213,79,0.6)); } }
@keyframes pop { 0% { transform: scale(0.5) rotate(-10deg); opacity: 1; } 100% { transform: scale(1.3) rotate(5deg); opacity: 0; } }
@keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }
@keyframes shake { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 25% { transform: translate(-3px, -3px) rotate(-0.5deg); } 75% { transform: translate(3px, 3px) rotate(0.5deg); } }
@keyframes coinFloat { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-80px) scale(0); opacity: 0; } }
@keyframes fadeInScale { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes ripple { 0% { transform: scale(0); opacity: 0.8; } 100% { transform: scale(2.5); opacity: 0; } }
@keyframes clickExplode { 0% { transform: scale(1) rotate(0deg); opacity: 1; } 100% { transform: scale(1.8) rotate(180deg); opacity: 0; } }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes wiggle { 0%, 100% { transform: rotate(0deg); } 25% { transform: rotate(-3deg); } 75% { transform: rotate(3deg); } }
@keyframes heartbeat { 0%, 100% { transform: scale(1); } 25% { transform: scale(1.2); } 50% { transform: scale(1); } }
@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }

/* TOP BAR */
header {
  position: absolute;
  top: 12px;
  left: 12px;
  right: 12px;
  height: 72px;
  background: linear-gradient(135deg, #1e2635 0%, #252d3d 100%);
  border-radius: 16px;
  border: 2px solid rgba(255, 213, 79, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 28px;
  z-index: 100;
  backdrop-filter: blur(10px);
}

h1 {
  font-size: 28px;
  font-weight: 900;
  letter-spacing: 2px;
  margin: 0;
  background: linear-gradient(135deg, #ffd54f, #ff9f1c);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 2px 8px rgba(255, 213, 79, 0.3);
  animation: float 3s ease-in-out infinite;
}

.top-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

#bots, .currency {
  font-size: 20px;
  font-weight: 700;
  background: linear-gradient(135deg, #64b5f6, #42a5f5);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 1px;
}

/* ICON BUTTONS */
.icon-btn {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  background: linear-gradient(135deg, #2a3847, #1f2935);
  border: 2px solid rgba(255, 213, 79, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 24px;
  position: relative;
  overflow: hidden;
}

.icon-btn::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 213, 79, 0.3) 0%, transparent 70%);
  transform: scale(0);
  pointer-events: none;
}

.icon-btn:hover {
  transform: translateY(-3px) scale(1.08);
  box-shadow: 0 8px 24px rgba(255, 213, 79, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 213, 79, 0.7);
  background: linear-gradient(135deg, #3a4857, #2f3945);
}

.icon-btn:active {
  transform: translateY(-1px) scale(0.95);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

.icon-btn:active::before {
  animation: ripple 0.6s ease-out;
}

.icon-btn svg {
  width: 24px;
  height: 24px;
  fill: #ffd54f;
}

/* CENTER CLICKER - ROBOT */
#robot {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 260px;
  height: 260px;
  background: radial-gradient(circle at 30% 20%, #87ceeb 0%, #4fb3ff 30%, #0066cc 80%, #004499 100%);
  border-radius: 50%;
  border: 8px solid rgba(0, 0, 0, 0.3);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7), inset -10px -10px 30px rgba(0, 0, 0, 0.3), inset 10px 10px 30px rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.1s ease-out;
  animation: float 4s ease-in-out infinite;
  position: relative;
  overflow: hidden;
}

#robot::before {
  content: "";
  position: absolute;
  inset: 15%;
  background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}

#robot .click-ring {
  position: absolute;
  width: 100%;
  height: 100%;
  border: 3px solid rgba(255, 213, 79, 0.6);
  border-radius: 50%;
  pointer-events: none;
}

#robot:hover {
  transform: translate(-50%, -50%) scale(1.08);
  box-shadow: 0 30px 80px rgba(76, 175, 255, 0.5), inset -10px -10px 30px rgba(0, 0, 0, 0.3), inset 10px 10px 30px rgba(255, 255, 255, 0.35);
}

#robot:active {
  transform: translate(-50%, -50%) scale(0.95);
}

#robot::after {
  content: "";
  position: absolute;
  bottom: -40px;
  width: 320px;
  height: 50px;
  background: radial-gradient(ellipse, rgba(0, 0, 0, 0.5) 0%, transparent 70%);
  filter: blur(16px);
  pointer-events: none;
}

/* GAME CONTAINER */
.game {
  position: absolute;
  inset: 96px 12px 12px 12px;
  display: flex;
  gap: 12px;
}

.factory {
  flex: 1;
  background: linear-gradient(135deg, rgba(30, 38, 53, 0.8), rgba(36, 45, 61, 0.8));
  border-radius: 16px;
  border: 2px solid rgba(255, 213, 79, 0.1);
  backdrop-filter: blur(10px);
  overflow: hidden;
  position: relative;
}

.factory h2 {
  position: absolute;
  top: 16px;
  left: 16px;
  font-size: 20px;
  margin: 0;
  color: rgba(255, 213, 79, 0.8);
  letter-spacing: 1px;
}

/* PANELS */
.panel {
  background: linear-gradient(135deg, #1e2635 0%, #242d3d 100%);
  border-radius: 14px;
  border: 2px solid rgba(255, 213, 79, 0.15);
  padding: 16px;
  margin-bottom: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  animation: slideIn 0.4s ease-out;
}

.panel h3 {
  font-size: 16px;
  margin: 0 0 12px 0;
  color: #ffd54f;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* UPGRADE BUTTONS */
.upgrade {
  background: linear-gradient(135deg, #2a3847 0%, #1f2935 100%);
  border: 2px solid rgba(255, 213, 79, 0.2);
  border-radius: 12px;
  padding: 14px 16px;
  margin-bottom: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.5px;
  line-height: 1.4;
  position: relative;
  overflow: hidden;
}

.upgrade::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s;
}

.upgrade:hover::before {
  left: 100%;
}

.upgrade:hover {
  transform: translateY(-4px);
  border-color: rgba(255, 213, 79, 0.6);
  box-shadow: 0 12px 28px rgba(255, 213, 79, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.15);
  background: linear-gradient(135deg, #3a4857 0%, #2f3945 100%);
}

.upgrade:active {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 213, 79, 0.15);
}

.upgrade span {
  color: #64b5f6;
  font-weight: 700;
}

/* RIGHT SIDEBAR */
.game > div:last-child {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
  padding-right: 4px;
}

.game > div:last-child::-webkit-scrollbar {
  width: 6px;
}

.game > div:last-child::-webkit-scrollbar-track {
  background: rgba(255, 213, 79, 0.05);
  border-radius: 3px;
}

.game > div:last-child::-webkit-scrollbar-thumb {
  background: rgba(255, 213, 79, 0.2);
  border-radius: 3px;
}

.game > div:last-child::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 213, 79, 0.4);
}

/* MODALS */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200;
  backdrop-filter: blur(4px);
  animation: fadeInScale 0.3s ease-out;
}

.modal-box {
  background: linear-gradient(135deg, #1e2635 0%, #242d3d 100%);
  border: 2px solid rgba(255, 213, 79, 0.3);
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
  max-width: 400px;
  text-align: center;
  animation: slideIn 0.3s ease-out;
}

.modal-box h3 {
  font-size: 24px;
  margin: 0 0 16px 0;
  color: #ffd54f;
  letter-spacing: 1px;
}

#achList, #dailyText, #offlineText {
  font-size: 14px;
  line-height: 1.8;
  color: #ddd;
  margin: 12px 0;
}

.modal-box button {
  background: linear-gradient(135deg, #ffd54f, #ff9f1c);
  border: none;
  color: #000;
  padding: 12px 28px;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255, 213, 79, 0.3);
  transition: all 0.2s;
  letter-spacing: 1px;
}

.modal-box button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 213, 79, 0.5);
}

.modal-box button:active {
  transform: translateY(0);
}

/* SETTINGS */
#setModal label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
}

#setModal input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: #ffd54f;
}

/* COINS & EFFECTS */
.coin {
  position: fixed;
  width: 16px;
  height: 16px;
  background: radial-gradient(circle at 30% 30%, #ffed4e, #ffd54f);
  border-radius: 50%;
  pointer-events: none;
  z-index: 999;
  box-shadow: 0 0 8px rgba(255, 213, 79, 0.8), inset -1px -1px 3px rgba(0, 0, 0, 0.3);
  animation: coinFloat 0.8s ease-out forwards;
}

.particle {
  position: fixed;
  pointer-events: none;
  z-index: 998;
}

.particle.spark {
  width: 4px;
  height: 4px;
  background: #ffd54f;
  border-radius: 50%;
  box-shadow: 0 0 4px #ff9f1c;
  animation: sparkFly 0.6s ease-out forwards;
}

@keyframes sparkFly {
  0% { opacity: 1; }
  100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); }
}

/* TOAST NOTIFICATIONS */
.toast {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: linear-gradient(135deg, #1e2635, #242d3d);
  color: #ffd54f;
  padding: 16px 28px;
  border-radius: 12px;
  border: 2px solid rgba(255, 213, 79, 0.5);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6), 0 0 20px rgba(255, 213, 79, 0.2);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 999;
  font-weight: 700;
  letter-spacing: 0.5px;
  font-size: 15px;
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* MILESTONE CELEBRATION */
.milestone {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 72px;
  font-weight: 900;
  color: #ffd54f;
  text-shadow: 
    0 0 20px rgba(255, 213, 79, 0.8),
    0 0 40px rgba(255, 159, 28, 0.6),
    0 0 60px rgba(255, 159, 28, 0.4);
  z-index: 998;
  pointer-events: none;
  animation: pop 1s cubic-bezier(0.34,1.56,0.64,1) forwards;
  letter-spacing: 3px;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
}

/* SCROLLBAR STYLING */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 213, 79, 0.05);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 213, 79, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 213, 79, 0.5);
}
</style>
</head>
<body>
<header>
<h1>Robo Clicker</h1>
<div class="top-right">
<div class="icon-btn" onclick="openDaily()" title="Daily Reward">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
  </svg>
</div>
<div class="icon-btn" onclick="openAchievements()" title="Achievements">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <polygon points="12 2 15.09 10.26 24 10.5 18 16.6 20.29 25.5 12 20.92 3.71 25.5 6 16.6 0 10.5 8.91 10.26"/><circle cx="12" cy="12" r="1"/>
  </svg>
</div>
<div class="icon-btn" onclick="openLeaderboard()" title="Leaderboard">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <polyline points="12 3 20 7 20 17 12 21 4 17 4 7 12 3"/><polyline points="12 12 20 7"/><polyline points="12 21 12 12"/><polyline points="4 7 12 12"/>
  </svg>
</div>
<div class="icon-btn" onclick="openSettings()" title="Settings">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m5.08 5.08l4.24 4.24M1 12h6m6 0h6m-16.78 7.78l4.24-4.24m5.08-5.08l4.24-4.24"/>
  </svg>
</div>
<div class="currency">Bots: <span id="bots">0</span></div>
</div>
</header>

<div class="game">
<div class="factory" id="factory">
<h2>Factory</h2>
<div class="robot" id="robot"></div>
</div>

<div>
<div class="panel">
<h3>Upgrades</h3>
<div class="upgrade common" onclick="buyClick()">Stronger Click<br>Cost: <span id="clickCost">10</span></div>
<div class="upgrade rare" onclick="buyAuto()">Auto Builder<br>Cost: <span id="autoCost">50</span></div>
<div class="upgrade epic" onclick="buyMega()">Mega Click<br>Cost: <span id="megaCost">250</span></div>
</div>

<div class="panel">
<h3>Progress</h3>
<div>Milestone: <span id="milestone">1</span></div>
<div>Achievements: <span id="achCount">0</span></div>
</div>

<div class="panel upgrade" onclick="doRebirth()">Rebirth<br><small>Requires 1,000 Bots</small></div>
</div>
</div>

<!-- DAILY -->
<div class="modal" id="dailyModal"><div class="modal-box"><h3>Daily Reward</h3><div id="dailyText"></div><br><button onclick="claimDaily()">Claim</button></div></div>
<!-- ACHIEVEMENTS -->
<div class="modal" id="achModal"><div class="modal-box"><h3>Achievements</h3><div id="achList"></div><br><button onclick="closeModals()">Close</button></div></div>
<!-- SETTINGS -->
<div class="modal" id="setModal"><div class="modal-box"><h3>Settings</h3><label><input type="checkbox" id="soundToggle" checked> Sound</label><br><br><button onclick="closeModals()">Close</button></div></div>
<!-- OFFLINE -->
<div class="modal" id="offlineModal"><div class="modal-box"><h3>Welcome Back</h3><div id="offlineText"></div><br><button onclick="closeModals()">Nice!</button></div></div>

<script>
const cg=window.CrazyGamesSDK; if(cg) cg.init();
let bots=0,perClick=1,autoBots=0,megaClick=0,clickCost=10,autoCost=50,megaCost=250,rebirths=0;
let milestone=1,achievements={click100:false,bots1k:false};
let sound=true;

const clickSound=new Audio('https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1124.mp3');clickSound.volume=.4;
const el=i=>document.getElementById(i);

function updateUI(){
 el('bots').textContent=Math.floor(bots);
 el('clickCost').textContent=clickCost;
 el('autoCost').textContent=autoCost;
 el('megaCost').textContent=megaCost;
 el('milestone').textContent=milestone;
 el('achCount').textContent=Object.values(achievements).filter(v=>v).length;
 save();
}

robot.onclick=e=>{
 bots+=perClick+megaClick;
 burst(e.clientX,e.clientY);
 createClickRing(e.clientX,e.clientY);
 createSparks(e.clientX,e.clientY);
 screenShake(4,120);
 addButtonPulse(robot);
 if(sound){clickSound.currentTime=0;clickSound.play()}
 checkAchievements();updateUI();
}

function buyClick(){if(bots>=clickCost){bots-=clickCost;perClick++;clickCost=Math.ceil(clickCost*1.6);screenShake(3,60);createConfetti();showUpgradeToast('Stronger Click â¬†ï¸');updateUI()}}
function buyAuto(){if(bots>=autoCost){bots-=autoCost;autoBots++;autoCost=Math.ceil(autoCost*2);screenShake(3,60);createConfetti();showUpgradeToast('Auto Builder ðŸ¤–');updateUI()}}
function buyMega(){if(bots>=megaCost){bots-=megaCost;megaClick+=5;megaCost=Math.ceil(megaCost*2.5);screenShake(3,60);createConfetti();showUpgradeToast('Mega Click ðŸ’¥');updateUI()}}

function showUpgradeToast(text){
  const toast=document.createElement('div');
  toast.className='toast';
  toast.innerHTML=text;
  document.body.appendChild(toast);
  setTimeout(()=>toast.classList.add('show'),10);
  setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>toast.remove(),300)},2000);
}

function createConfetti(){
  for(let i=0;i<20;i++){
    const confetti=document.createElement('div');
    confetti.style.cssText=`position:fixed;width:8px;height:8px;background:${['#ffd54f','#ff9f1c','#64b5f6'][Math.floor(Math.random()*3)]};left:${Math.random()*window.innerWidth}px;top:0;border-radius:50%;pointer-events:none;z-index:997;`;
    const duration=800+Math.random()*600;
    confetti.animate([{transform:'translateY(0) rotate(0deg)',opacity:1},{transform:`translateY(${window.innerHeight}px) rotate(${Math.random()*720}deg)`,opacity:0}],{duration,easing:'cubic-bezier(0.25,0.46,0.45,0.94)'});
    document.body.appendChild(confetti);
    setTimeout(()=>confetti.remove(),duration);
  }
}

setInterval(()=>{bots+=autoBots;checkMilestones();updateUI()},1000);

function doRebirth(){if(bots>=1000){rebirths++;bots=0;perClick=1;autoBots=0;megaClick=0;screenShake(18,450);createExplosion();showMilestonePopup('âš¡ REBIRTH! âš¡');updateUI()}}

function createExplosion(){
  for(let i=0;i<40;i++){
    const particle=document.createElement('div');
    const angle=Math.random()*Math.PI*2;
    const velocity=8+Math.random()*12;
    const dist=velocity*80;
    const tx=Math.cos(angle)*dist;
    const ty=Math.sin(angle)*dist;
    particle.style.cssText=`position:fixed;width:${6+Math.random()*6}px;height:${6+Math.random()*6}px;background:${['#ffd54f','#ff9f1c','#64b5f6','#4caf50'][Math.floor(Math.random()*4)]};left:50%;top:50%;border-radius:50%;pointer-events:none;z-index:997;box-shadow:0 0 ${4+Math.random()*6}px currentColor;margin-left:-${3+Math.random()*3}px;margin-top:-${3+Math.random()*3}px;`;
    particle.animate([{transform:'translate(0,0) scale(1)',opacity:1},{transform:`translate(${tx}px,${ty}px) scale(0)`,opacity:0}],{duration:900,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
    document.body.appendChild(particle);
    setTimeout(()=>particle.remove(),900);
  }
}

function burst(x,y){for(let i=0;i<16;i++){const c=document.createElement('div');c.className='coin';c.style.left=x+'px';c.style.top=y+'px';const angle=Math.random()*Math.PI*2;const velocity=4+Math.random()*6;const dx=Math.cos(angle)*velocity;const dy=Math.sin(angle)*velocity;c.animate([{transform:'translate(0,0) scale(1)',opacity:1},{transform:`translate(${dx*80}px,${dy*80}px) scale(0)`,opacity:0}],{duration:900,easing:'cubic-bezier(.2,.8,.2,1)'});document.body.appendChild(c);setTimeout(()=>c.remove(),900)}}

function checkMilestones(){if(bots>1000&&milestone===1){milestone=2;el('robot').classList.add('big');showMilestonePopup('MILESTONE REACHED!')}}
function checkAchievements(){if(bots>=1000)achievements.bots1k=true}

// DAILY
function openDaily(){el('dailyModal').style.display='flex';el('dailyText').textContent='ðŸ’° Reward: +500 Bots'}
function claimDaily(){bots+=500;showDailyToast();closeModals();updateUI()}

function showDailyToast(){
  const toast=document.createElement('div');
  toast.className='toast';
  toast.innerHTML='âœ¨ Daily Reward Claimed! +500 Bots';
  document.body.appendChild(toast);
  setTimeout(()=>toast.classList.add('show'),10);
  setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>toast.remove(),300)},2700);
}

// MODALS
function openAchievements(){el('achModal').style.display='flex';el('achList').innerHTML=Object.entries(achievements).map(([k,v])=>`${k}: ${v?'Done':'?'}`).join('<br>')}
function openSettings(){el('setModal').style.display='flex'}
function openLeaderboard(){if(cg)cg.showLeaderboard({leaderboardID:'main'})}
function closeModals(){document.querySelectorAll('.modal').forEach(m=>m.style.display='none')}

// SAVE + OFFLINE
function save(){localStorage.setItem('save',JSON.stringify({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,milestone,achievements,time:Date.now()}))}
function load(){const d=JSON.parse(localStorage.getItem('save'));if(!d)return;Object.assign({bots,perClick,autoBots,megaClick,clickCost,autoCost,megaCost,milestone,achievements},d);const diff=Math.floor((Date.now()-d.time)/1000);const earned=diff*autoBots;if(earned>0){bots+=earned;el('offlineText').textContent=`You earned ${earned} Bots while away!`;el('offlineModal').style.display='flex'}}
load();updateUI();

// REWARDED AD
function watchAd(){if(cg)cg.showRewardedAd({onReward:()=>{bots+=1000;updateUI()}})}

// ANIMATION ENHANCEMENTS
function showMilestonePopup(text){
  const popup=document.createElement('div');
  popup.className='milestone';
  popup.textContent=text;
  popup.style.animation='pop 1s cubic-bezier(0.34,1.56,0.64,1)';
  document.body.appendChild(popup);
  setTimeout(()=>{popup.style.animation='fadeOut 0.5s ease-in';setTimeout(()=>popup.remove(),500)},1600);
}

function screenShake(intensity=8,duration=200){
  const start=Date.now();
  const shake=()=>{
    const elapsed=Date.now()-start;
    if(elapsed>duration){document.body.style.transform='';return}
    const x=(Math.random()-0.5)*intensity;const y=(Math.random()-0.5)*intensity;const r=(Math.random()-0.5)*2;
    document.body.style.transform=`translate(${x}px,${y}px) rotate(${r}deg)`;
    requestAnimationFrame(shake);
  };
  shake();
}

function addButtonPulse(el){
  el.style.animation='pulse 0.5s cubic-bezier(0.4,0,0.2,1)';
  setTimeout(()=>{el.style.animation=''},500);
}

function createClickRing(x,y){
  const ring=document.createElement('div');
  ring.style.cssText=`position:fixed;width:40px;height:40px;border:3px solid #ffd54f;border-radius:50%;left:${x-20}px;top:${y-20}px;pointer-events:none;z-index:998;box-shadow:0 0 12px rgba(255,213,79,0.6);`;
  ring.animate([{transform:'scale(1)',opacity:1},{transform:'scale(2.5)',opacity:0}],{duration:600,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
  document.body.appendChild(ring);
  setTimeout(()=>ring.remove(),600);
}

function createSparks(x,y){
  const sparkCount=Math.random()>0.5?8:12;
  for(let i=0;i<sparkCount;i++){
    const spark=document.createElement('div');
    spark.className='particle spark';
    const angle=Math.random()*Math.PI*2;
    const dist=40+Math.random()*60;
    const tx=Math.cos(angle)*dist;
    const ty=Math.sin(angle)*dist;
    spark.style.cssText=`left:${x}px;top:${y}px;--tx:${tx}px;--ty:${ty}px;`;
    spark.animate([{opacity:1,transform:'scale(1) translate(0,0)'},{opacity:0,transform:`scale(0.3) translate(${tx}px,${ty}px)`}],{duration:600,easing:'cubic-bezier(0.2,0.8,0.2,1)'});
    document.body.appendChild(spark);
    setTimeout(()=>spark.remove(),600);
  }
}
</script>
</body>
</html>

/* =========================
   JUICE SYSTEMS (FINAL POLISH)
   ========================= */

// Screen shake
let shakeTime = 0;
function screenShake(intensity = 6, duration = 150) {
  shakeTime = duration;
  const start = Date.now();
  const interval = setInterval(() => {
    const elapsed = Date.now() - start;
    if (elapsed > duration) {
      document.body.style.transform = "";
      clearInterval(interval);
      return;
    }
    const x = (Math.random() - 0.5) * intensity;
    const y = (Math.random() - 0.5) * intensity;
    document.body.style.transform = `translate(${x}px, ${y}px)`;
  }, 16);
}

// Click flash + pop
function clickJuice(el) {
  el.classList.add('click-pop');
  setTimeout(() => el.classList.remove('click-pop'), 120);
}

// Coin burst
function spawnCoins(x, y, amount = 6) {
  for (let i = 0; i < amount; i++) {
    const coin = document.createElement('div');
    coin.className = 'coin';
    coin.style.left = x + 'px';
    coin.style.top = y + 'px';
    document.body.appendChild(coin);

    const target = document.getElementById('money');
    const rect = target.getBoundingClientRect();

    const tx = rect.left + rect.width / 2;
    const ty = rect.top + rect.height / 2;

    coin.animate([
      { transform: 'translate(0,0) scale(1)', opacity: 1 },
      { transform: `translate(${tx - x}px, ${ty - y}px) scale(0.3)`, opacity: 0 }
    ], { duration: 600, easing: 'cubic-bezier(.2,.8,.2,1)' });

    setTimeout(() => coin.remove(), 600);
  }
}

// Achievement toast
function showToast(text) {
  const toast = document.createElement('div');
  toast.className = 'toast';
  toast.innerText = text;
  document.body.appendChild(toast);
  setTimeout(() => toast.classList.add('show'), 50);
  setTimeout(() => toast.remove(), 3000);
}

// Milestone celebration
function milestoneCelebrate(text) {
  screenShake(10, 300);
  const overlay = document.createElement('div');
  overlay.className = 'milestone';
  overlay.innerText = text;
  document.body.appendChild(overlay);
  setTimeout(() => overlay.remove(), 2000);
}

/* =========================
   CLICK HANDLER
   ========================= */

robot.addEventListener('click', (e) => {
  if (paused) return;
  bots += clickPower;
  clickJuice(robot);
  spawnCoins(e.clientX, e.clientY);
  screenShake(2, 80);
  updateUI();
});

/* =========================
   REBIRTH JUICE
   ========================= */
function rebirth() {
  screenShake(14, 400);
  milestoneCelebrate('REBIRTH!');
  bots = 0;
  rebirths++;
  updateUI();
}

/* =========================
   DAILY REWARD POP
   ========================= */
function dailyReward() {
  bots += 500;
  showToast('Daily Reward Claimed! +500 Bots');
  updateUI();
}

/* =========================
   CSS JUICE (APPEND TO STYLE)
   ========================= */

const style = document.createElement('style');
style.innerHTML = `
.click-pop { animation: pop 0.12s ease-out; }
@keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
.coin { position: fixed; width: 12px; height: 12px; background: gold; border-radius: 50%; pointer-events: none; z-index: 9999; }
.toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) scale(0.8); background: #222; color: #fff; padding: 12px 20px; border-radius: 12px; opacity: 0; transition: all .3s; z-index: 9999; }
.toast.show { opacity: 1; transform: translateX(-50%) scale(1); }
.milestone { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: 900; background: rgba(0,0,0,0.6); color: #fff; z-index: 9998; animation: fade 2s; }
@keyframes fade { from { opacity: 1; } to { opacity: 0; } }
`;
document.head.appendChild(style);

